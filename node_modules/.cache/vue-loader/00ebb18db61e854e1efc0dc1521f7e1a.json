{"remainingRequest":"/Users/huangweihusn/frank_code/frank-portal/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangweihusn/frank_code/frank-portal/src/views/Booking.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangweihusn/frank_code/frank-portal/src/views/Booking.vue","mtime":1620059395113},{"path":"/Users/huangweihusn/frank_code/frank-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangweihusn/frank_code/frank-portal/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/huangweihusn/frank_code/frank-portal/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangweihusn/frank_code/frank-portal/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaGFuY2UgZnJvbSAnY2hhbmNlJzsKaW1wb3J0ICd0dWktdGltZS1waWNrZXIvZGlzdC90dWktdGltZS1waWNrZXIuY3NzJzsKaW1wb3J0ICd0dWktZGF0ZS1waWNrZXIvZGlzdC90dWktZGF0ZS1waWNrZXIuY3NzJzsKaW1wb3J0ICd0dWktY2FsZW5kYXIvZGlzdC90dWktY2FsZW5kYXIuY3NzJzsKaW1wb3J0ICcuLi9jb21wb25lbnRzL2NhbGVuZGFyL2FwcC5jc3MnOwppbXBvcnQge0NhbGVuZGFyfSBmcm9tICcuLi9jb21wb25lbnRzL2NhbGVuZGFyL2luZGV4LmpzJzsKaW1wb3J0IFRoZW1lIGZyb20gJy4uL2NvbXBvbmVudHMvY2FsZW5kYXIvVGhlbWUnOwoKCmNvbnN0IGNoYW5jZSA9IG5ldyBDaGFuY2UoKTsKY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwoKY29uc3QgZ2V0RGF0ZSA9ICh0eXBlLCBzdGFydCwgdmFsdWUsIG9wZXJhdG9yKSA9PiB7CiAgICBzdGFydCA9IG5ldyBEYXRlKHN0YXJ0KTsKICAgIHR5cGUgPSB0eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHlwZS5zbGljZSgxKTsKCiAgICBpZiAob3BlcmF0b3IgPT09ICcrJykgewogICAgICAgIHN0YXJ0W2BzZXQke3R5cGV9YF0oc3RhcnRbYGdldCR7dHlwZX1gXSgpICsgdmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgICBzdGFydFtgc2V0JHt0eXBlfWBdKHN0YXJ0W2BnZXQke3R5cGV9YF0oKSAtIHZhbHVlKTsKICAgIH0KCiAgICByZXR1cm4gc3RhcnQ7Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnYm9va2luZycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgJ2NhbGVuZGFyJzogQ2FsZW5kYXIKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZpZXdNb2RlT3B0aW9uczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTW9udGhseScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdtb250aCcKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdXZWVrbHknLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnd2VlaycKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYWlseScsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdkYXknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGRhdGVSYW5nZTogJycsCiAgICAgICAgICAgIHNlbGVjdGVkVmlldzogJ21vbnRoJywKICAgICAgICAgICAgY2FsZW5kYXJMaXN0OiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcwJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUHJpdmF0ZScsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogJyM5ZTVmZmYnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzllNWZmZicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcxJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ29tcGFueScsCiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogJyMwMGE5ZmYnLAogICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwYTlmZicKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgc2NoZWR1bGVMaXN0OiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICcxJywKICAgICAgICAgICAgICAgICAgICBjYWxlbmRhcklkOiAnMCcsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTVlAgdGVzdGluZycsCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd0aW1lJywKICAgICAgICAgICAgICAgICAgICBkdWVEYXRlQ2xhc3M6ICcnLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0b2RheS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgICAgIGVuZDogZ2V0RGF0ZSgnaG91cnMnLCB0b2RheSwgMywgJysnKS50b0lTT1N0cmluZygpCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlkOiAnMicsCiAgICAgICAgICAgICAgICAgICAgY2FsZW5kYXJJZDogJzEnLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ1UgdGVzdGluZycsCiAgICAgICAgICAgICAgICAgICAgY2F0ZW9ncnk6ICd0aW1lJywKICAgICAgICAgICAgICAgICAgICBkdWVEYXRlQ2xhc3M6ICcnLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBnZXREYXRlKCdkYXRlJywgdG9kYXksIDEsICcrJykudG9JU09TdHJpbmcoKSwKICAgICAgICAgICAgICAgICAgICBlbmQ6IGdldERhdGUoJ2RhdGUnLCB0b2RheSwgMSwgJysnKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgICAgIGlzUmVhZE9ubHk6IHRydWUKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICczJywKICAgICAgICAgICAgICAgICAgICBjYWxlbmRhcklkOiAnMScsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEVSB0ZXN0aW5nJywKICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ3RpbWUnLAogICAgICAgICAgICAgICAgICAgIGR1ZURhdGVDbGFzczogJycsCiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGdldERhdGUoJ2RhdGUnLCB0b2RheSwgMiwgJy0nKS50b0lTT1N0cmluZygpLAogICAgICAgICAgICAgICAgICAgIGVuZDogZ2V0RGF0ZSgnZGF0ZScsIHRvZGF5LCAxLCAnLScpLnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICAgaXNSZWFkT25seTogdHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZDogJzQnLAogICAgICAgICAgICAgICAgICAgIGNhbGVuZGFySWQ6ICcxJywKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JlcG9ydCcsCiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd0aW1lJywKICAgICAgICAgICAgICAgICAgICBkdWVEYXRlQ2xhc3M6ICcnLAogICAgICAgICAgICAgICAgICAgIHN0YXJ0OnRvZGF5LnRvSVNPU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICAgZW5kOiBnZXREYXRlKCdob3VycycsIHRvZGF5LCAxLCAnKycpLnRvSVNPU3RyaW5nKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGltZXpvbmVzOiBbewogICAgICAgICAgICAgICAgdGltZXpvbmVPZmZzZXQ6IDU0MCwKICAgICAgICAgICAgICAgIGRpc3BsYXlMYWJlbDogJ0dNVCswODowMCcsCiAgICAgICAgICAgICAgICB0b29sdGlwOiAnVGFpcGVpJwogICAgICAgICAgICB9XSwKICAgICAgICAgICAgdGhlbWU6IFRoZW1lLAogICAgICAgICAgICB0ZW1wbGF0ZTogewogICAgICAgICAgICAgICAgbWlsZXN0b25lKHNjaGVkdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8c3BhbiBzdHlsZT0iY29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOiAke3NjaGVkdWxlLmJnQ29sb3J9OyI+JHtzY2hlZHVsZS50aXRsZX08L3NwYW4+YDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBtaWxlc3RvbmVUaXRsZSgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ01pbGVzdG9uZSc7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWxsZGF5KHNjaGVkdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke3NjaGVkdWxlLnRpdGxlfTxpIGNsYXNzPSJmYSBmYS1yZWZyZXNoIj48L2k+YDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwb3B1cElzQWxsRGF5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0FsdmluJzsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwb3B1cFN0YXRlRnJlZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJzIwMjEgUTInOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHBvcHVwU3RhdGVCdXN5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHJldHVybiAnMjAyMSBRMyc7CiAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBtb250aDogewogICAgICAgICAgICAgICAgc3RhcnREYXlPZldlZWs6IDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2VlazogewogICAgICAgICAgICAgICAgc2hvd1RpbWV6b25lQ29sbGFwc2VCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICB0aW1lem9uZXNDb2xsYXBzZWQ6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGFza1ZpZXc6IHRydWUsCiAgICAgICAgICAgIHNjaGVkdWxlVmlldzogdHJ1ZSwKICAgICAgICAgICAgdXNlRGV0YWlsUG9wdXA6IHRydWUsCiAgICAgICAgICAgIGRpc2FibGVEYmxDbGljazogdHJ1ZSwKICAgICAgICAgICAgaXNSZWFkT25seTogZmFsc2UKICAgICAgICB9OwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgc2VsZWN0ZWRWaWV3KG5ld1ZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMudHVpQ2FsLmludm9rZSgnY2hhbmdlVmlldycsIG5ld1ZhbHVlLCB0cnVlKTsKICAgICAgICAgICAgdGhpcy5zZXRSZW5kZXJSYW5nZVRleHQoKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGluaXQoKSB7CiAgICAgICAgICAgIHRoaXMuc2V0UmVuZGVyUmFuZ2VUZXh0KCk7CiAgICAgICAgfSwKICAgICAgICBzZXRSZW5kZXJSYW5nZVRleHQoKSB7CiAgICAgICAgICAgIGNvbnN0IHtpbnZva2V9ID0gdGhpcy4kcmVmcy50dWlDYWw7CiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBpbnZva2UoJ2dldFZpZXdOYW1lJyk7CiAgICAgICAgICAgIGNvbnN0IGNhbERhdGUgPSBpbnZva2UoJ2dldERhdGUnKTsKICAgICAgICAgICAgY29uc3QgcmFuZ2VTdGFydCA9IGludm9rZSgnZ2V0RGF0ZVJhbmdlU3RhcnQnKTsKICAgICAgICAgICAgY29uc3QgcmFuZ2VFbmQgPSBpbnZva2UoJ2dldERhdGVSYW5nZUVuZCcpOwogICAgICAgICAgICBsZXQgeWVhciA9IGNhbERhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgICAgICAgbGV0IG1vbnRoID0gY2FsRGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgICAgICAgbGV0IGRhdGUgPSBjYWxEYXRlLmdldERhdGUoKTsKICAgICAgICAgICAgbGV0IGRhdGVSYW5nZVRleHQgPSAnJzsKICAgICAgICAgICAgbGV0IGVuZE1vbnRoLCBlbmREYXRlLCBzdGFydCwgZW5kOwoKICAgICAgICAgICAgc3dpdGNoICh2aWV3KSB7CiAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6IAogICAgICAgICAgICAgICAgICAgIGRhdGVSYW5nZVRleHQgPSBgJHt5ZWFyfS0ke21vbnRofWA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICd3ZWVrJzoKICAgICAgICAgICAgICAgICAgICB5ZWFyID0gcmFuZ2VTdGFydC5nZXRGdWxsWWVhcigpOwogICAgICAgICAgICAgICAgICAgIG1vbnRoID0gcmFuZ2VTdGFydC5nZXRNb250aCgpICsgMTsKICAgICAgICAgICAgICAgICAgICBkYXRlID0gcmFuZ2VTdGFydC5nZXREYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgZW5kTW9udGggPSByYW5nZUVuZC5nZXRNb250aCgpICsgMTsKICAgICAgICAgICAgICAgICAgICBlbmREYXRlID0gcmFuZ2VFbmQuZ2V0RGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF0ZX1gOwogICAgICAgICAgICAgICAgICAgIGVuZCA9IGAke2VuZE1vbnRofS0ke2VuZERhdGV9YDsKICAgICAgICAgICAgICAgICAgICBkYXRlUmFuZ2VUZXh0ID0gYCR7c3RhcnR9fiR7ZW5kfWA7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgIGRhdGVSYW5nZVRleHQgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RhdGV9YDsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRhdGVSYW5nZSA9IGRhdGVSYW5nZVRleHQ7CiAgICAgICAgfSwKICAgICAgICBvbkNsaWNrTmF2aShldmVudCkgewogICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT09ICdCVVRUT04nKSB7CiAgICAgICAgICAgICAgICBjb25zdCB7dGFyZ2V0fSA9IGV2ZW50OwogICAgICAgICAgICAgICAgbGV0IGFjdGlvbiA9IHRhcmdldC5kYXRhc2V0ID8gdGFyZ2V0LmRhdGFzZXQuYWN0aW9uIDogdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rpb24nKTsKICAgICAgICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbi5yZXBsYWNlKCdtb3ZlLScsICcnKTsKCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnR1aUNhbC5pbnZva2UoYWN0aW9uKTsKICAgICAgICAgICAgICAgIHRoaXMuc2V0UmVuZGVyUmFuZ2VUZXh0KCk7CiAgICAgICAgICAgIH0gICAKICAgICAgICB9LAogICAgICAgIG9uQ2xpY2tTY2hlZHVsZShyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5ncm91cCgnb25DbGlja1NjaGVkdWxlJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb3VzZUV2ZW50IDogJywgcmVzLmV2ZW50KTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbGVuZGFyIEluZm8gOiAnLCByZXMuY2FsZW5kYXIpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnU2NoZWR1bGUgSW5mbyA6ICcsIHJlcy5zY2hlZHVsZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTsKICAgICAgICB9LAogICAgICAgIG9uQ2xpY2tEYXluYW1lKHJlcykgewogICAgICAgICAgICAvLyB2aWV3IDogd2VlaywgZGF5CiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXAoJ29uQ2xpY2tEYXluYW1lJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRlKTsKICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpOwogICAgICAgIH0sCiAgICAgICAgb25CZWZvcmVDcmVhdGVTY2hlZHVsZShlKSB7CgogICAgICAgICAgICBjb25zb2xlLmxvZygiW29uQmVmb3JlQ3JlYXRlU2NoZWR1bGVdIiwgZSk7CgogICAgICAgICAgICBjb25zdCB7IGNhbGVuZGFySWQsIHRpdGxlLCBsb2NhdGlvbiwgc3RhcnQsIGVuZCwgaXNBbGxEYXksIHN0YXRlIH0gPSBlOwoKICAgICAgICAgICAgdGhpcy4kcmVmcy50dWlDYWxlbmRhci5pbnZva2UoImNyZWF0ZVNjaGVkdWxlcyIsIFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IGNoYW5jZS5ndWlkKCksCiAgICAgICAgICAgICAgICBjYWxlbmRhcklkLAogICAgICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgICAgICBpc0FsbERheSwKICAgICAgICAgICAgICAgIHN0YXJ0LAogICAgICAgICAgICAgICAgZW5kLAogICAgICAgICAgICAgICAgbG9jYXRpb24sCiAgICAgICAgICAgICAgICBzdGF0ZSwKICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBpc0FsbERheSA/ICJhbGxkYXkiIDogInRpbWUiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgXSk7CgogICAgICAgICAgICB0aGlzLiRyZWZzLnR1aUNhbGVuZGFyLmludm9rZSgicmVuZGVyIiwgdHJ1ZSk7CiAgICAgICAgfSwKICAgICAgICBvbkJlZm9yZURlbGV0ZVNjaGVkdWxlKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIltvbkJlZm9yZURlbGV0ZVNjaGVkdWxlXSIsIGUpOwoKICAgICAgICAgICAgdGhpcy4kcmVmcy50dWlDYWxlbmRhci5pbnZva2UoImRlbGV0ZVNjaGVkdWxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnNjaGVkdWxlLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc2NoZWR1bGUuY2FsZW5kYXJJZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBvbkJlZm9yZVVwZGF0ZVNjaGVkdWxlKGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIltvbkJlZm9yZVVwZGF0ZVNjaGVkdWxlXSIsIGUpOwoKICAgICAgICAgICAgY29uc3QgeyBzY2hlZHVsZSwgY2hhbmdlcyB9ID0gZTsKCiAgICAgICAgICAgIHRoaXMuJHJlZnMudHVpQ2FsZW5kYXIuaW52b2tlKCJ1cGRhdGVTY2hlZHVsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGUuY2FsZW5kYXJJZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzKTsKICAgICAgICB9LAogICAgICAgIG9uQWZ0ZXJSZW5kZXJTY2hlZHVsZShyZXMpIHsKICAgICAgICAgICAgY29uc29sZS5ncm91cCgnb25BZnRlclJlbmRlclNjaGVkdWxlJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTY2hlZHVsZSBJbmZvIDogJywgcmVzLnNjaGVkdWxlKTsKICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpOwogICAgICAgIH0sCiAgICAgICAgb25DbGlja1RpbWV6b25lc0NvbGxhcHNlQnRuKHRpbWV6b25lc0NvbGxhcHNlZCkgewogICAgICAgICAgICAvLyB2aWV3OiB3ZWVrLCBkYXkKICAgICAgICAgICAgY29uc29sZS5ncm91cCgnb25DbGlja1RpbWV6b25lc0NvbGxhcHNlZEJ0bicpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnSXMgQ29sbGFwc2VkIFRpbWVzem9uZSA/JywgdGltZXpvbmVzQ29sbGFwc2VkKTsKICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpOwoKICAgICAgICAgICAgaWYgKHRpbWV6b25lc0NvbGxhcHNlZCkgewogICAgICAgICAgICAgICAgdGhpcy50aGVtZVsnd2Vlay50aW1lZ3JpZExlZnQud2lkdGgnXSA9ICcxMDBweCc7CiAgICAgICAgICAgICAgICB0aGlzLnRoZW1lWyd3ZWVrLmRheWdyaWRMZWZ0LndpZHRoJ10gPSAnMTAwcHgnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy50aGVtZVsnd2Vlay50aW1lZ3JpZExlZnQud2lkdGgnXSA9ICc1MHB4JzsKICAgICAgICAgICAgICAgIHRoaXMudGhlbWVbJ3dlZWsuZGF5Z3JpZExlZnQud2lkdGgnXSA9ICc1MHB4JzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuaW5pdCgpOwogICAgfQp9Owo="},{"version":3,"sources":["Booking.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Booking.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"booking\">\n        <div class=\"hero is-primary\">\n            <div class=\"hero-body\">\n                <div class=\"container\">\n                    <h1 class=\"title is-size-1\">Welcome to Booking Schedule</h1>\n                    <h2 class=\"title is-size-2\">Please pick your time.</h2>\n                </div>\n            </div>\n        </div>\n        <div class=\"container\">\n        <p class=\"org-description is-size-4\">1. booking: book time for test schedule in future schedule.</p>\n        <p class=\"org-description is-size-4\">2. logging: leave backlog for test schedule in the past schedule.</p>\n        </div>\n    \n    <div>\n        <select v-model=\"selectedView\">\n            <option v-for=\"(options, index) in viewModeOptions\" :value=\"options.value\" :key=\"index\">\n                {{ options.title }}\n            </option>\n        </select>\n        <span @click=\"onClickNavi($event)\">\n            <button type=\"button\" class=\"btn btn-default btn-sm move-today\" data-action=\"move-today\">Today</button>\n            <button type=\"button\" class=\"btn btn-default btn-sm move-day\" data-action=\"move-prev\">Prev</button>\n            <button type=\"button\" class=\"btn btn-default btn-sm move-day\" data-action=\"move-next\">Next</button>\n        </span>\n        <span class=\"render-range\">{{dateRange}}</span>\n    </div>\n    <calendar  style=\"height: 800 px\"\n               ref=\"tuiCal\"\n               :useCreationPopup=\"useCreationPopup\"\n               :useDetailPopup=\"useDetailPopup\"\n               :view=\"selectedView\"\n               :calendars=\"calendarList\"\n               :schedules=\"scheduleList\"\n               :theme=\"theme\"\n               :template=\"template\"\n               :taskView=\"true\"\n               :scheduleView=\"true\"\n               :month=\"month\"\n               :week=\"week\"\n               :timezones=\"timezones\"\n               :disableDblClick=\"disableDblClick\"\n               :isReadOnly=\"isReadOnly\"\n               @clickSchedule=\"onClickSchedule\"\n               @clickDayname=\"onClickDayname\"\n               @beforeCreateSchedule=\"onBeforeCreateSchedule\"\n               @beforeDeleteSchedule=\"onBeforeDeleteSchedule\"\n               @beforeUpdateSchedule=\"onBeforeUpdateSchedule\"\n               @afterRenderSchedule=\"onAfterRenderSchedule\"\n               @clickTimezoneCollapseBtn=\"onClickTimezoneCollapseBtn\"\n\n    />\n    </div>\n</template>\n<script>\nimport Chance from 'chance';\nimport 'tui-time-picker/dist/tui-time-picker.css';\nimport 'tui-date-picker/dist/tui-date-picker.css';\nimport 'tui-calendar/dist/tui-calendar.css';\nimport '../components/calendar/app.css';\nimport {Calendar} from '../components/calendar/index.js';\nimport Theme from '../components/calendar/Theme';\n\n\nconst chance = new Chance();\nconst today = new Date();\n\nconst getDate = (type, start, value, operator) => {\n    start = new Date(start);\n    type = type.charAt(0).toUpperCase() + type.slice(1);\n\n    if (operator === '+') {\n        start[`set${type}`](start[`get${type}`]() + value);\n    } else {\n        start[`set${type}`](start[`get${type}`]() - value);\n    }\n\n    return start;\n};\n\nexport default {\n    name: 'booking',\n    components: {\n        'calendar': Calendar\n    },\n    data() {\n        return {\n            viewModeOptions: [\n                {\n                    title: 'Monthly',\n                    value: 'month'\n                },\n                {\n                    title: 'Weekly',\n                    value: 'week'\n                },\n                {\n                    title: 'Daily',\n                    value: 'day'\n                }\n            ],\n            dateRange: '',\n            selectedView: 'month',\n            calendarList: [\n                {\n                    id: '0',\n                    name: 'Private',\n                    bgColor: '#9e5fff',\n                    borderColor: '#9e5fff'\n                },\n                {\n                    id: '1',\n                    name: 'Company',\n                    bgColor: '#00a9ff',\n                    borderColor: '#00a9ff'\n                }\n            ],\n            scheduleList: [\n                {\n                    id: '1',\n                    calendarId: '0',\n                    title: 'SVP testing',\n                    category: 'time',\n                    dueDateClass: '',\n                    start: today.toISOString(),\n                    end: getDate('hours', today, 3, '+').toISOString()\n                },\n                {\n                    id: '2',\n                    calendarId: '1',\n                    title: 'CU testing',\n                    cateogry: 'time',\n                    dueDateClass: '',\n                    start: getDate('date', today, 1, '+').toISOString(),\n                    end: getDate('date', today, 1, '+').toISOString(),\n                    isReadOnly: true\n                },\n                {\n                    id: '3',\n                    calendarId: '1',\n                    title: 'DU testing',\n                    category: 'time',\n                    dueDateClass: '',\n                    start: getDate('date', today, 2, '-').toISOString(),\n                    end: getDate('date', today, 1, '-').toISOString(),\n                    isReadOnly: true\n                },\n                {\n                    id: '4',\n                    calendarId: '1',\n                    title: 'Report',\n                    category: 'time',\n                    dueDateClass: '',\n                    start:today.toISOString(),\n                    end: getDate('hours', today, 1, '+').toISOString()\n                }\n            ],\n            timezones: [{\n                timezoneOffset: 540,\n                displayLabel: 'GMT+08:00',\n                tooltip: 'Taipei'\n            }],\n            theme: Theme,\n            template: {\n                milestone(schedule) {\n                    return `<span style=\"color:#fff;background-color: ${schedule.bgColor};\">${schedule.title}</span>`;\n                },\n                milestoneTitle() {\n                    return 'Milestone';\n                },\n                allday(schedule) {\n                    return `${schedule.title}<i class=\"fa fa-refresh\"></i>`;\n                },\n                popupIsAllDay: function() {\n                    return 'Alvin';\n                },\n                popupStateFree: function() {\n                return '2021 Q2';\n                },\n                popupStateBusy: function() {\n                return '2021 Q3';\n          },\n            },\n            month: {\n                startDayOfWeek: 0\n            },\n            week: {\n                showTimezoneCollapseButton: true,\n                timezonesCollapsed: true\n            },\n            taskView: true,\n            scheduleView: true,\n            useDetailPopup: true,\n            disableDblClick: true,\n            isReadOnly: false\n        };\n    },\n    watch: {\n        selectedView(newValue) {\n            this.$refs.tuiCal.invoke('changeView', newValue, true);\n            this.setRenderRangeText();\n        }\n    },\n    methods: {\n        init() {\n            this.setRenderRangeText();\n        },\n        setRenderRangeText() {\n            const {invoke} = this.$refs.tuiCal;\n            const view = invoke('getViewName');\n            const calDate = invoke('getDate');\n            const rangeStart = invoke('getDateRangeStart');\n            const rangeEnd = invoke('getDateRangeEnd');\n            let year = calDate.getFullYear();\n            let month = calDate.getMonth() + 1;\n            let date = calDate.getDate();\n            let dateRangeText = '';\n            let endMonth, endDate, start, end;\n\n            switch (view) {\n                case 'month': \n                    dateRangeText = `${year}-${month}`;\n                    break;\n                case 'week':\n                    year = rangeStart.getFullYear();\n                    month = rangeStart.getMonth() + 1;\n                    date = rangeStart.getDate();\n                    endMonth = rangeEnd.getMonth() + 1;\n                    endDate = rangeEnd.getDate();\n\n                    start = `${year}-${month}-${date}`;\n                    end = `${endMonth}-${endDate}`;\n                    dateRangeText = `${start}~${end}`;\n                    break;\n                default:\n                    dateRangeText = `${year}-${month}-${date}`;\n            }\n            this.dateRange = dateRangeText;\n        },\n        onClickNavi(event) {\n            if (event.target.tagName === 'BUTTON') {\n                const {target} = event;\n                let action = target.dataset ? target.dataset.action : target.getAttribute('data-action');\n                action = action.replace('move-', '');\n\n                this.$refs.tuiCal.invoke(action);\n                this.setRenderRangeText();\n            }   \n        },\n        onClickSchedule(res) {\n            console.group('onClickSchedule');\n            console.log('MouseEvent : ', res.event);\n            console.log('Calendar Info : ', res.calendar);\n            console.log('Schedule Info : ', res.schedule);\n            console.groupEnd();\n        },\n        onClickDayname(res) {\n            // view : week, day\n            console.group('onClickDayname');\n            console.log(res.date);\n            console.groupEnd();\n        },\n        onBeforeCreateSchedule(e) {\n\n            console.log(\"[onBeforeCreateSchedule]\", e);\n\n            const { calendarId, title, location, start, end, isAllDay, state } = e;\n\n            this.$refs.tuiCalendar.invoke(\"createSchedules\", [\n            {\n                id: chance.guid(),\n                calendarId,\n                title,\n                isAllDay,\n                start,\n                end,\n                location,\n                state,\n                category: isAllDay ? \"allday\" : \"time\"\n            }\n            ]);\n\n            this.$refs.tuiCalendar.invoke(\"render\", true);\n        },\n        onBeforeDeleteSchedule(e) {\n            console.log(\"[onBeforeDeleteSchedule]\", e);\n\n            this.$refs.tuiCalendar.invoke(\"deleteSchedule\",\n                                            e.schedule.id,\n                                            e.schedule.calendarId\n                                            );\n        },\n        onBeforeUpdateSchedule(e) {\n            console.log(\"[onBeforeUpdateSchedule]\", e);\n\n            const { schedule, changes } = e;\n\n            this.$refs.tuiCalendar.invoke(\"updateSchedule\",\n                                            schedule.id,\n                                            schedule.calendarId,\n                                            changes);\n        },\n        onAfterRenderSchedule(res) {\n            console.group('onAfterRenderSchedule');\n            console.log('Schedule Info : ', res.schedule);\n            console.groupEnd();\n        },\n        onClickTimezonesCollapseBtn(timezonesCollapsed) {\n            // view: week, day\n            console.group('onClickTimezonesCollapsedBtn');\n            console.log('Is Collapsed Timeszone ?', timezonesCollapsed);\n            console.groupEnd();\n\n            if (timezonesCollapsed) {\n                this.theme['week.timegridLeft.width'] = '100px';\n                this.theme['week.daygridLeft.width'] = '100px';\n            } else {\n                this.theme['week.timegridLeft.width'] = '50px';\n                this.theme['week.daygridLeft.width'] = '50px';\n            }\n        }\n    },\n    mounted() {\n        this.init();\n    }\n};\n</script>\n<style lang=\"scss\" scoped> \n    ::v-deep .org-description {\n    margin-top: 50px;\n    color: #8B0000;\n    }\n</style>"]}]}